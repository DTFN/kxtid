# KXTID Specification

## 1. Introduction

KXTID is a decentralized identifier (DID) method built on the national blockchain, aiming to provide secure and trustworthy digital identities for carbon data.

## 2. DID Method Name

- The registered method is "kxtid".

- A valid identifier is prefixed with `did:kxtid`, and the remaining part of the DID after the prefix is generated by a specific algorithm.

## 3. DID Syntax

A `did:kxtid` DID consists of a method prefix and a unique identifier for trusted carbon. The ABNF definition of a valid KXTID identifier is as follows:

| DID Syntax Definition                        |
| -------------------------------------------- |
| `did-kxtid = "did:kxtid:" kxtid-specific-id` |
| `kxtid-specific-id = "0x" 40(pid)`           |
| `pid = ALPHA / DIGIT`                        |

The steps to generate a KXTID identifier are as follows:

1. Use the SM2 encryption algorithm.

2. Generate public and private keys.

3. Encode the public key using Base64 encoding.

4. Perform a hash calculation on the encoded public key using the SM3 hash algorithm.

5. Extract the last 40 characters of the hash value as the unique identifier.

6. Concatenate `did:kxtid`, `0x`, and the unique identifier to form the complete KXTID.

## 4. KXTID Document Specification

### 4.1 KXTID Specification Description

The KXTID document follows the DID Document specification with certain extensions. The field descriptions of the KXTID document are as follows:

- context

Data type: list<string>

Required: Yes

Description: A set of rules for interpreting JSON-LD documents, following the DID specification, used to achieve interoperability between different DID Documents. Must include [https://www.w3.org/ns/did/v1.](https://www.w3.org/ns/did/v1.)



- version

Data type: string

Required: Yes

Description: Document version number.



- id

Data type: string

Required: Yes

Description: The unique identifier of the KXTID document.



- controller

Data type: list<string>

Required: Yes

Description: A set of KXTIDs that have permissions to modify, delete, etc., the KXTID document.



- authentication

Data type: list<string>

Required: Yes

Description: A set of KXTIDs of public keys. The party with the private key corresponding to this public key can control and manage the KXTID document.



- verificationMethod

Data type: list<VerificationMethod>

Required: Yes

Description: A set of verification methods. The fields of VerificationMethod include:

* id

Data type: string

Required: Yes

Description: The unique identifier of the verification method.

- type

Data type: string

Required: Yes

Description: The type of the verification method.

- controller

Data type: string

Required: Yes

Description: The controller of the verification method.

- publicKeyMultibase

Data type: string

Required: No

Description: The multibase-encoded public key.



- service

Data type: list<Service>

Required: No

Description: A set of service addresses. The fields of Service include:

- id

Data type: string

Required: Yes

Description: Service address ID.

- type

Data type: string

Required: Yes

Description: Service type identifier.

- serviceEndpoint

Data type: string

Required: Yes

Description: The access address of the service.



- proof

Data type: list<Proof>

Required: No

Description: The signature of the document content by the document owner. The fields of Proof include:

- created

Data type: string

Required: Yes

Description: Creation time.

- proofPurpose

Data type: string

Required: Yes

Description: Signature purpose.

- proofValue

Data type: string

Required: Yes

Description: Signature result.

- type

Data type: string

Required: Yes

Description: Signature method type.

- verificationMethod

Data type: string

Required: Yes

Description: Declares the public key used to verify the signature.



* extension

Data type: List<Extension>
Required: No
Description: Extended field, additional metadata information.

* type
  
  Data type: string
  Required: Yes
  Description: Extension type, custom.

* values
  
  Data type: list<string>
  Required: Yes
  Description: Description items of the extension type.
  
  
- created

Data type: string

Required: Yes

Description: The creation time of the KXTID document.



- updated

Data type: string

Required: Yes

Description: The modification time of the KXTID document.

### 4.2 KXTID Document Data Structure Definition

The data structure definition of the KXTID document is as follows:

| Field                | Data Type | Required | Description                                                                                                                                                                                       |
| -------------------- | --------- | -------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `context`            | list      | Yes      | A set of rules for interpreting JSON-LD documents, following the DID specification, used to achieve interoperability between different DID Documents. Must include `https://www.w3.org/ns/did/v1` |
| `version`            | string    | Yes      | Document version number                                                                                                                                                                           |
| `id`                 | string    | Yes      | The unique identifier of the KXTID document                                                                                                                                                       |
| `controller`         | list      | Yes      | A set of KXTIDs that have permissions to modify, delete, etc., the KXTID document                                                                                                                 |
| `authentication`     | list      | Yes      | A set of KXTIDs of public keys. The party with the private key corresponding to this public key can control and manage the KXTID document                                                         |
| `verificationMethod` | list      | Yes      | A set of verification methods. See below for field details                                                                                                                                        |
| `service`            | list      | No       | A set of service addresses. See below for field details                                                                                                                                           |
| `proof`              | list      | No       | The signature of the document content by the document owner. See below for field details                                                                                                          |
| `extension`          | list      | No       | Extended field, including additional metadata                                                                                                                                                     |
| `created`            | string    | Yes      | The creation time of the KXTID document                                                                                                                                                           |
| `updated`            | string    | Yes      | The modification time of the KXTID document                                                                                                                                                       |

#### VerificationMethod Field Description

| Field                | Data Type | Required | Description                                      |
| -------------------- | --------- | -------- | ------------------------------------------------ |
| `id`                 | string    | Yes      | The unique identifier of the verification method |
| `type`               | string    | Yes      | The type of the verification method              |
| `controller`         | string    | Yes      | The controller of the verification method        |
| `publicKeyMultibase` | string    | No       | The multibase-encoded public key                 |

#### Service Field Description

| Field             | Data Type | Required | Description                       |
| ----------------- | --------- | -------- | --------------------------------- |
| `id`              | string    | Yes      | Service address ID                |
| `type`            | string    | Yes      | Service type identifier           |
| `serviceEndpoint` | string    | Yes      | The access address of the service |

#### Proof Field Description

| Field                | Data Type | Required | Description                                          |
| -------------------- | --------- | -------- | ---------------------------------------------------- |
| `created`            | string    | Yes      | Creation time                                        |
| `proofPurpose`       | string    | Yes      | Signature purpose                                    |
| `proofValue`         | string    | Yes      | Signature result                                     |
| `type`               | string    | Yes      | Signature method type                                |
| `verificationMethod` | string    | Yes      | Declares the public key used to verify the signature |

### 4.3 KXTID Document Example

A complete example of a kxtid document is as follows:

```JSON
{
  "@context": [
    "https://www.w3.org/ns/did/v1"
  ],
  "version": "1.0",
  "id": "did:kxtid:0x7e2f9d4c8a1b3e5f7d9c2b4a6e8f0d1e2f3c4d5b",
  "controller": [
    "did:kxtid:0x7e2f9d4c8a1b3e5f7d9c2b4a6e8f0d1e2f3c4d5b"
  ],
  "authentication": [
    "did:kxtid:0x7e2f9d4c8a1b3e5f7d9c2b4a6e8f0d1e2f3c4d5b#key-1"
  ],
  "verificationMethod": [
    {
      "id": "did:kxtid:0x7e2f9d4c8a1b3e5f7d9c2b4a6e8f0d1e2f3c4d5b#key-1",
      "type": "Ed25519VerificationKey2018",
      "controller": "did:kxtid:0x7e2f9d4c8a1b3e5f7d9c2b4a6e8f0d1e2f3c4d5b",
      "publicKeyMultibase": "z6MkqRYqQiSgvZQdnBytw86Qbs2ZWUkGv22od935YF4s8M7V"
    }
  ],
  "service": [
    {
      "id": "did:kxtid:0x7e2f9d4c8a1b3e5f7d9c2b4a6e8f0d1e2f3c4d5b#service-1",
      "type": "IssuerService",
      "serviceEndpoint": "http://192.168.3.149/api/v1/query"
    }
  ],
  "proof": [
    {
      "created": "2025-12-19T10:30:00+08:00",
      "proofPurpose": "assertionMethod",
      "proofValue": "MEUCIQCegqh8P+fyY+7UmUkd2FLw9Bbo8ILdGAMFwzlqrcjXNAIgfLPAXDvQgPWeQI4lLdlM2nvldEYw6DQpp/NgWn8w4pQ=",
      "type": "Ed25519VerificationKey2018",
      "verificationMethod": "did:kxtid:0x7e2f9d4c8a1b3e5f7d9c2b4a6e8f0d1e2f3c4d5b#key-1"
    }
  ],
  "created": "2025-12-19T10:00:00+08:00",
  "updated": "2025-12-19T10:30:00+08:00"
}
```

## 5. Method Operations

DID methods include creation, reading, updating, and deactivation.

### 5.1 Create

The create interface mainly completes the creation of the KXTID document and supports the HTTP POST method. When creating a KXTID document, the signer of the proof field must be the public key in the authentication field to have permission to create successfully. If the KXTID document exists, duplicate creation is not allowed.

### 5.2 Read

The read interface mainly completes the query of the KXTID document and supports the HTTP GET method. The return value is the JSON string of the KXTID document.

### 5.3 Update

The update interface mainly completes the update of the KXTID document and supports the HTTP POST method. The update operation is not allowed to update the authentication field. When updating the KXTID document, the signer of the proof field must be the public key in the authentication field to have permission to update successfully.

### 5.4 Deactivate

The deactivate interface mainly completes the deactivation of the KXTID document and supports the HTTP POST method. The deactivated KXTID document is updated to empty instead of being deleted.

## 6. Security and Privacy

### 6.1 Security

- **Public Key Integrity**: The public key of KXTID is stored on the blockchain to ensure it is tamper-proof.

- **Private Key Protection**: Private keys must be stored securely to avoid leakage to unauthorized third parties.

- **Prevention of Man-in-the-Middle Attacks**: Protect the transmission process of KXTID documents through encrypted transmission (such as TLS).

### 6.2 Privacy

- **Data Minimization**: Only necessary information, such as public keys and service endpoints, is stored on the blockchain to avoid storing sensitive information.

- **Access Control**: Control access permissions to KXTID and its associated services through encryption methods.